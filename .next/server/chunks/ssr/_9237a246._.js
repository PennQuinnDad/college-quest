module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border border-border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h2",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},90645,a=>{"use strict";var b=a.i(72131),c=a.i(48714);let d="college-favorites",e="favorites-migrated";async function f(){if(localStorage.getItem(e))return;let a=localStorage.getItem(d);if(!a)return void localStorage.setItem(e,"true");try{let b=JSON.parse(a);if(0===b.length)return void localStorage.setItem(e,"true");await Promise.all(b.map(a=>fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({collegeId:a})}))),localStorage.removeItem(d),localStorage.setItem(e,"true")}catch(a){console.error("Error migrating favorites:",a)}}let g="college-favorites";function h(){return new Set}let i="favoritesSync";function j(a){window.dispatchEvent(new CustomEvent(i,{detail:Array.from(a)}))}function k(a){window.dispatchEvent(new CustomEvent("favoriteRemoved",{detail:a}))}function l(){let[a,d]=(0,b.useState)(h),[e,l]=(0,b.useState)(!1),{user:m}=(0,c.useAuth)();(0,b.useCallback)(()=>{try{let a=localStorage.getItem(g);a&&d(new Set(JSON.parse(a))),l(!0)}catch(a){console.error("Error loading local favorites:",a),l(!0)}},[]);let n=(0,b.useCallback)(a=>{try{localStorage.setItem(g,JSON.stringify(Array.from(a))),d(a),j(a)}catch(a){console.error("Error saving local favorites:",a)}},[]),o=(0,b.useCallback)(async()=>{try{let a=await fetch("/api/favorites",{credentials:"include"});if(a.ok){let b=await a.json(),c=new Set(b.favorites);d(c),l(!0),j(c)}else l(!0)}catch(a){console.error("Error loading DB favorites:",a),l(!0)}},[]),p=(0,b.useCallback)(async a=>{d(b=>{let c=new Set(b);return c.add(a),j(c),c});try{await fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({collegeId:a})})}catch(b){console.error("Error adding DB favorite:",b),d(b=>{let c=new Set(b);return c.delete(a),j(c),c})}},[]),q=(0,b.useCallback)(async a=>{d(b=>{let c=new Set(b);return c.delete(a),j(c),c});try{await fetch(`/api/favorites/${a}`,{method:"DELETE",credentials:"include"})}catch(b){console.error("Error removing DB favorite:",b),d(b=>{let c=new Set(b);return c.add(a),j(c),c})}},[]);(0,b.useEffect)(()=>{let a=a=>{d(new Set(a.detail))};return window.addEventListener(i,a),()=>window.removeEventListener(i,a)},[]),(0,b.useEffect)(()=>{m?f().then(()=>o()):queueMicrotask(()=>l(!0))},[m,o]);let r=(0,b.useCallback)(b=>{if(m)p(b);else{let c=new Set(a);c.add(b),n(c)}},[m,a,p,n]),s=(0,b.useCallback)(b=>{if(m)q(b);else{let c=new Set(a);c.delete(b),n(c)}k(b)},[m,a,q,n]),t=(0,b.useCallback)(b=>{a.has(b)?s(b):r(b)},[a,r,s]),u=(0,b.useCallback)(b=>{if(m)d(a=>{let c=new Set(a);return b.forEach(a=>c.add(a)),j(c),c}),Promise.all(b.map(a=>fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({collegeId:a})}))).catch(a=>{console.error("Error bulk adding favorites:",a),o()});else{let c=new Set(a);b.forEach(a=>c.add(a)),n(c)}},[m,a,n,o]),v=(0,b.useCallback)(b=>{if(m)d(a=>{let c=new Set(a);return b.forEach(a=>c.delete(a)),j(c),c}),Promise.all(b.map(a=>fetch(`/api/favorites/${a}`,{method:"DELETE",credentials:"include"}))).catch(a=>{console.error("Error bulk removing favorites:",a),o()});else{let c=new Set(a);b.forEach(a=>c.delete(a)),n(c)}b.forEach(a=>k(a))},[m,a,n,o]),w=(0,b.useCallback)(()=>{let b=Array.from(a);if(m){let a=new Set;d(a),j(a),Promise.all(b.map(a=>fetch(`/api/favorites/${a}`,{method:"DELETE",credentials:"include"}))).catch(a=>{console.error("Error clearing favorites:",a),o()})}else n(new Set);b.forEach(a=>k(a))},[m,a,n,o]),x=(0,b.useCallback)(b=>a.has(b),[a]),y=(0,b.useCallback)(()=>Array.from(a),[a]);return{favorites:a,addFavorite:r,removeFavorite:s,toggleFavorite:t,addMultipleFavorites:u,removeMultipleFavorites:v,clearAllFavorites:w,isFavorite:x,getFavoritesList:y,favoriteCount:a.size,isLoaded:e}}a.s(["useFavorites",()=>l],90645)},33140,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-md bg-muted",a),...d})}a.s(["Skeleton",()=>d])},24987,a=>{"use strict";let b=(0,a.i(70106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},13749,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],13749)},78612,7353,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);a.s(["Grid",()=>c],78612);let d=(0,b.default)("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);a.s(["Table",()=>d],7353)}];

//# sourceMappingURL=_9237a246._.js.map