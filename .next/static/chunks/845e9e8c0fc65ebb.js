(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(66027),r=e.i(93479),i=e.i(67489),l=e.i(19455),n=e.i(81140),o=e.i(20783),d=e.i(30030),c=e.i(69340),m=e.i(99682),x=e.i(35804),u=e.i(48425),h="Switch",[p,g]=(0,d.createContextScope)(h),[f,j]=p(h),b=s.forwardRef((e,a)=>{let{__scopeSwitch:r,name:i,checked:l,defaultChecked:d,required:m,disabled:x,value:p="on",onCheckedChange:g,form:j,...b}=e,[v,y]=s.useState(null),k=(0,o.useComposedRefs)(a,e=>y(e)),S=s.useRef(!1),C=!v||j||!!v.closest("form"),[$,M]=(0,c.useControllableState)({prop:l,defaultProp:d??!1,onChange:g,caller:h});return(0,t.jsxs)(f,{scope:r,checked:$,disabled:x,children:[(0,t.jsx)(u.Primitive.button,{type:"button",role:"switch","aria-checked":$,"aria-required":m,"data-state":w($),"data-disabled":x?"":void 0,disabled:x,value:p,...b,ref:k,onClick:(0,n.composeEventHandlers)(e.onClick,e=>{M(e=>!e),C&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())})}),C&&(0,t.jsx)(N,{control:v,bubbles:!S.current,name:i,value:p,checked:$,required:m,disabled:x,form:j,style:{transform:"translateX(-100%)"}})]})});b.displayName=h;var v="SwitchThumb",y=s.forwardRef((e,s)=>{let{__scopeSwitch:a,...r}=e,i=j(v,a);return(0,t.jsx)(u.Primitive.span,{"data-state":w(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:s})});y.displayName=v;var N=s.forwardRef(({__scopeSwitch:e,control:a,checked:r,bubbles:i=!0,...l},n)=>{let d=s.useRef(null),c=(0,o.useComposedRefs)(d,n),u=(0,m.usePrevious)(r),h=(0,x.useSize)(a);return s.useEffect(()=>{let e=d.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==r&&t){let s=new Event("click",{bubbles:i});t.call(e,r),e.dispatchEvent(s)}},[u,r,i]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:c,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function w(e){return e?"checked":"unchecked"}N.displayName="SwitchBubbleInput";var k=e.i(75157);let S=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(b,{className:(0,k.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:a,children:(0,t.jsx)(y,{className:(0,k.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));S.displayName=b.displayName;var C=e.i(10204),$=e.i(55436),M=e.i(37727),R=e.i(90597),z=e.i(27612),F=e.i(92125),O=e.i(46798);function B({searchParams:e,onSearch:s}){let{data:n}=(0,a.useQuery)({queryKey:["/api/colleges/filters/states"],queryFn:async()=>{let e=await fetch("/api/colleges/filters/states");if(!e.ok)throw Error("Failed to fetch states");return e.json()}}),{data:o}=(0,a.useQuery)({queryKey:["/api/colleges/filters/types"],queryFn:async()=>{let e=await fetch("/api/colleges/filters/types");if(!e.ok)throw Error("Failed to fetch types");return e.json()}}),{data:d}=(0,a.useQuery)({queryKey:["/api/colleges/filters/regions"],queryFn:async()=>{let e=await fetch("/api/colleges/filters/regions");if(!e.ok)throw Error("Failed to fetch regions");return e.json()}}),{data:c}=(0,a.useQuery)({queryKey:["/api/colleges/filters/acceptance-ranges"],queryFn:async()=>{let e=await fetch("/api/colleges/filters/acceptance-ranges");if(!e.ok)throw Error("Failed to fetch acceptance ranges");return e.json()}}),{favoriteCount:m,clearAllFavorites:x}=(0,F.useFavorites)();return(0,t.jsx)("section",{className:"py-6 px-4 bg-card border-b border-border relative z-10",id:"search-section",children:(0,t.jsxs)("div",{className:"container mx-auto",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"search-input",className:"sr-only",children:"Search colleges, programs, or locations"}),(0,t.jsxs)("div",{className:"relative max-w-md",children:[(0,t.jsx)(r.Input,{id:"search-input",name:"search",type:"text",placeholder:"Search colleges, programs, or locations...",value:e.query||"",onChange:e=>s({query:e.target.value}),className:"w-full pl-10 pr-10 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-ring","data-testid":"input-search"}),(0,t.jsx)($.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.query&&(0,t.jsx)("button",{onClick:()=>s({query:""}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-clear-search",children:(0,t.jsx)(M.X,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"state-select",className:"sr-only",children:"Filter by State"}),(0,t.jsxs)(i.Select,{value:"",onValueChange:t=>{if(t&&"all"!==t){let a=e.states||[];if(a.includes(t)){let e=a.filter(e=>e!==t);s({states:e.length>0?e:void 0})}else s({states:[...a,t]})}},children:[(0,t.jsx)(i.SelectTrigger,{id:"state-select",className:"w-[140px]","data-testid":"select-state",children:(0,t.jsx)(i.SelectValue,{placeholder:e.states?.length?`${e.states.length} States`:"State"})}),(0,t.jsxs)(i.SelectContent,{children:[(e.states||[]).map(e=>(0,t.jsxs)(i.SelectItem,{value:e,className:"bg-amber-100 text-amber-900 font-medium data-[highlighted]:bg-amber-200",children:["✓ ",e]},`selected-${e}`)),(n||[]).filter(t=>!e.states?.includes(t)).map(e=>(0,t.jsx)(i.SelectItem,{value:e,children:e},e))]})]})]}),(0,t.jsxs)(i.Select,{value:"",onValueChange:t=>{if(t&&"all"!==t){let a=e.regions||[];if(a.includes(t)){let e=a.filter(e=>e!==t);s({regions:e.length>0?e:void 0})}else s({regions:[...a,t]})}},children:[(0,t.jsx)(i.SelectTrigger,{id:"region-select",name:"region",className:"w-[140px]","data-testid":"select-region",children:(0,t.jsx)(i.SelectValue,{placeholder:e.regions?.length?`${e.regions.length} Regions`:"Region"})}),(0,t.jsxs)(i.SelectContent,{children:[(e.regions||[]).map(e=>(0,t.jsxs)(i.SelectItem,{value:e,className:"bg-amber-100 text-amber-900 font-medium data-[highlighted]:bg-amber-200",children:["✓ ",e]},`selected-${e}`)),(d||[]).filter(t=>!e.regions?.includes(t)).map(e=>(0,t.jsx)(i.SelectItem,{value:e,children:e},e))]})]}),(0,t.jsxs)(i.Select,{value:"",onValueChange:t=>{if(t&&"all"!==t){let a=e.types||[];if(a.includes(t)){let e=a.filter(e=>e!==t);s({types:e.length>0?e:void 0})}else s({types:[...a,t]})}},children:[(0,t.jsx)(i.SelectTrigger,{id:"type-select",name:"type",className:"w-[140px]","data-testid":"select-type",children:(0,t.jsx)(i.SelectValue,{placeholder:e.types?.length?`${e.types.length} Types`:"Type"})}),(0,t.jsxs)(i.SelectContent,{children:[(e.types||[]).map(e=>(0,t.jsxs)(i.SelectItem,{value:e,className:"bg-amber-100 text-amber-900 font-medium data-[highlighted]:bg-amber-200",children:["✓ ",e]},`selected-${e}`)),(o||[]).filter(t=>!e.types?.includes(t)).map(e=>(0,t.jsx)(i.SelectItem,{value:e,children:e},e))]})]}),(0,t.jsxs)(i.Select,{value:e.size||"all",onValueChange:e=>s({size:"all"===e?void 0:e}),children:[(0,t.jsx)(i.SelectTrigger,{id:"size-select",name:"size",className:"w-[140px]","data-testid":"select-size",children:(0,t.jsx)(i.SelectValue,{placeholder:"Size"})}),(0,t.jsxs)(i.SelectContent,{children:[(0,t.jsx)(i.SelectItem,{value:"all",children:"All Sizes"}),(0,t.jsx)(i.SelectItem,{value:"Small",children:"Small"}),(0,t.jsx)(i.SelectItem,{value:"Medium",children:"Medium"}),(0,t.jsx)(i.SelectItem,{value:"Large",children:"Large"})]})]}),(0,t.jsxs)(i.Select,{value:"",onValueChange:t=>{if(t&&"all"!==t){let a=e.acceptanceRanges||[];if(a.includes(t)){let e=a.filter(e=>e!==t);s({acceptanceRanges:e.length>0?e:void 0})}else s({acceptanceRanges:[...a,t]})}},children:[(0,t.jsx)(i.SelectTrigger,{id:"acceptance-ranges-select",name:"acceptanceRanges",className:"w-[180px]","data-testid":"select-acceptance-ranges",children:(0,t.jsx)(i.SelectValue,{placeholder:e.acceptanceRanges?.length?`${e.acceptanceRanges.length} Ranges`:"Acceptance Rate"})}),(0,t.jsxs)(i.SelectContent,{children:[(e.acceptanceRanges||[]).map(e=>(0,t.jsxs)(i.SelectItem,{value:e,className:"bg-amber-100 text-amber-900 font-medium data-[highlighted]:bg-amber-200",children:["✓ ",e]},`selected-${e}`)),(c||[]).filter(t=>!e.acceptanceRanges?.includes(t)).map(e=>(0,t.jsx)(i.SelectItem,{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(S,{id:"jesuit-filter",checked:e.jesuitOnly||!1,onCheckedChange:e=>s({jesuitOnly:e||void 0}),"data-testid":"switch-jesuit-only"}),(0,t.jsx)(C.Label,{htmlFor:"jesuit-filter",className:"text-sm font-medium cursor-pointer",children:"Jesuit Colleges Only"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 ml-auto",children:[(0,t.jsxs)(l.Button,{variant:e.showFavoritesOnly?"default":"outline",onClick:()=>{e.showFavoritesOnly?s({showFavoritesOnly:void 0}):s({query:"",states:void 0,regions:void 0,types:void 0,size:void 0,acceptanceRanges:void 0,tuitionMin:void 0,tuitionMax:void 0,enrollmentMin:void 0,enrollmentMax:void 0,acceptanceRateMin:void 0,acceptanceRateMax:void 0,showFavoritesOnly:!0,jesuitOnly:void 0,page:1})},className:"flex items-center gap-2 h-10","data-testid":"button-show-favorites",children:[(0,t.jsx)(R.Heart,{className:`w-4 h-4 ${m>0?"text-red-500":"text-gray-400"}`}),"Favorites (",m,")"]}),m>0&&(0,t.jsx)(O.TooltipProvider,{children:(0,t.jsxs)(O.Tooltip,{children:[(0,t.jsx)(O.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),x(),e.showFavoritesOnly&&s({showFavoritesOnly:void 0})},className:"h-10 w-10 text-muted-foreground hover:text-destructive","data-testid":"button-clear-favorites",children:(0,t.jsx)(z.Trash2,{className:"w-4 h-4"})})}),(0,t.jsx)(O.TooltipContent,{children:(0,t.jsx)("p",{children:"Clear all favorites"})})]})})]})]})]})})}var A=e.i(22016),I=e.i(96626),L="Checkbox",[E,T]=(0,d.createContextScope)(L),[q,P]=E(L);function D(e){let{__scopeCheckbox:a,checked:r,children:i,defaultChecked:l,disabled:n,form:o,name:d,onCheckedChange:m,required:x,value:u="on",internal_do_not_use_render:h}=e,[p,g]=(0,c.useControllableState)({prop:r,defaultProp:l??!1,onChange:m,caller:L}),[f,j]=s.useState(null),[b,v]=s.useState(null),y=s.useRef(!1),N=!f||!!o||!!f.closest("form"),w={checked:p,disabled:n,setChecked:g,control:f,setControl:j,name:d,form:o,value:u,hasConsumerStoppedPropagationRef:y,required:x,defaultChecked:!X(l)&&l,isFormControl:N,bubbleInput:b,setBubbleInput:v};return(0,t.jsx)(q,{scope:a,...w,children:"function"==typeof h?h(w):i})}var V="CheckboxTrigger",H=s.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:r,...i},l)=>{let{control:d,value:c,disabled:m,checked:x,required:h,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:f,isFormControl:j,bubbleInput:b}=P(V,e),v=(0,o.useComposedRefs)(l,p),y=s.useRef(x);return s.useEffect(()=>{let e=d?.form;if(e){let t=()=>g(y.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,g]),(0,t.jsx)(u.Primitive.button,{type:"button",role:"checkbox","aria-checked":X(x)?"mixed":x,"aria-required":h,"data-state":Y(x),"data-disabled":m?"":void 0,disabled:m,value:c,...i,ref:v,onKeyDown:(0,n.composeEventHandlers)(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.composeEventHandlers)(r,e=>{g(e=>!!X(e)||!e),b&&j&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});H.displayName=V;var J=s.forwardRef((e,s)=>{let{__scopeCheckbox:a,name:r,checked:i,defaultChecked:l,required:n,disabled:o,value:d,onCheckedChange:c,form:m,...x}=e;return(0,t.jsx)(D,{__scopeCheckbox:a,checked:i,defaultChecked:l,disabled:o,required:n,onCheckedChange:c,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(H,{...x,ref:s,__scopeCheckbox:a}),e&&(0,t.jsx)(Q,{__scopeCheckbox:a})]})})});J.displayName=L;var K="CheckboxIndicator",U=s.forwardRef((e,s)=>{let{__scopeCheckbox:a,forceMount:r,...i}=e,l=P(K,a);return(0,t.jsx)(I.Presence,{present:r||X(l.checked)||!0===l.checked,children:(0,t.jsx)(u.Primitive.span,{"data-state":Y(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:s,style:{pointerEvents:"none",...e.style}})})});U.displayName=K;var _="CheckboxBubbleInput",Q=s.forwardRef(({__scopeCheckbox:e,...a},r)=>{let{control:i,hasConsumerStoppedPropagationRef:l,checked:n,defaultChecked:d,required:c,disabled:h,name:p,value:g,form:f,bubbleInput:j,setBubbleInput:b}=P(_,e),v=(0,o.useComposedRefs)(r,b),y=(0,m.usePrevious)(n),N=(0,x.useSize)(i);s.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!l.current;if(y!==n&&e){let s=new Event("click",{bubbles:t});j.indeterminate=X(n),e.call(j,!X(n)&&n),j.dispatchEvent(s)}},[j,y,n,l]);let w=s.useRef(!X(n)&&n);return(0,t.jsx)(u.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??w.current,required:c,disabled:h,name:p,value:g,form:f,...a,tabIndex:-1,ref:v,style:{...a.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function X(e){return"indeterminate"===e}function Y(e){return X(e)?"indeterminate":e?"checked":"unchecked"}Q.displayName=_;var W=e.i(43531);let Z=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(J,{ref:a,className:(0,k.cn)("peer h-4 w-4 shrink-0 border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:(0,t.jsx)(U,{className:(0,k.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(W.Check,{className:"h-4 w-4"})})}));Z.displayName=J.displayName;var G=e.i(78917),ee=e.i(75254);let et=(0,ee.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var es=e.i(64659);function ea({colleges:e,searchParams:a,onSort:r}){let[i,n]=(0,s.useState)(new Set),{isFavorite:o,toggleFavorite:d,addMultipleFavorites:c,removeMultipleFavorites:m}=(0,F.useFavorites)(),x=e=>{let t=a.sortBy===e&&"asc"===a.sortOrder?"desc":"asc";r(e,t)},u=e.length>0&&i.size===e.length,h=Array.from(i),p=h.length>0&&h.every(e=>o(e)),g=e=>a.sortBy!==e?(0,t.jsx)(et,{className:"w-3 h-3 text-muted-foreground/50"}):"asc"===a.sortOrder?(0,t.jsx)(et,{className:"w-3 h-3 text-primary"}):(0,t.jsx)(es.ChevronDown,{className:"w-3 h-3 text-primary"}),f=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e):"N/A";return(0,t.jsxs)("div",{className:"space-y-4",children:[i.size>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-amber-800",children:[i.size," college",1===i.size?"":"s"," selected"]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{p?m(h):c(h)},"data-testid":"button-bulk-favorite",children:[(0,t.jsx)(R.Heart,{className:`w-4 h-4 mr-2 ${p?"fill-red-500 text-red-500":""}`}),p?"Remove from Favorites":"Add to Favorites"]})})]}),(0,t.jsx)("div",{className:"w-full overflow-x-auto bg-card rounded-lg border border-border",children:(0,t.jsxs)("table",{className:"w-full border-collapse","data-testid":"table-colleges",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border bg-gray-100",children:[(0,t.jsx)("th",{className:"text-center p-2 text-sm font-medium text-foreground border-r border-border w-12",children:(0,t.jsx)(Z,{checked:u,onCheckedChange:t=>{t?n(new Set(e.map(e=>e.id))):n(new Set)},"data-testid":"checkbox-select-all"})}),(0,t.jsx)("th",{className:"text-left p-2 text-sm font-medium text-foreground border-r border-border min-w-[200px]",children:(0,t.jsxs)("button",{onClick:()=>x("name"),className:"flex items-center gap-1 hover:text-primary transition-colors w-full text-left text-sm","data-testid":"button-sort-name",children:["College Name",g("name")]})}),(0,t.jsx)("th",{className:"text-left p-2 text-sm font-medium text-foreground border-r border-border min-w-[120px]",children:(0,t.jsxs)("button",{onClick:()=>x("location"),className:"flex items-center gap-1 hover:text-primary transition-colors w-full text-left text-sm","data-testid":"button-sort-location",children:["Location",g("location")]})}),(0,t.jsx)("th",{className:"text-left p-2 text-sm font-medium text-foreground border-r border-border min-w-[80px]",children:(0,t.jsxs)("button",{onClick:()=>x("type"),className:"flex items-center gap-1 hover:text-primary transition-colors w-full text-left text-sm","data-testid":"button-sort-type",children:["Type",g("type")]})}),(0,t.jsx)("th",{className:"text-left p-2 text-sm font-medium text-foreground border-r border-border min-w-[100px]",children:(0,t.jsxs)("button",{onClick:()=>x("region"),className:"flex items-center gap-1 hover:text-primary transition-colors w-full text-left text-sm","data-testid":"button-sort-region",children:["Region",g("region")]})}),(0,t.jsx)("th",{className:"text-left p-2 text-sm font-medium text-foreground border-r border-border min-w-[80px]",children:(0,t.jsxs)("button",{onClick:()=>x("size"),className:"flex items-center gap-1 hover:text-primary transition-colors w-full text-left text-sm","data-testid":"button-sort-size",children:["Size",g("size")]})}),(0,t.jsx)("th",{className:"text-center p-2 text-sm font-medium text-foreground border-r border-border min-w-[80px]",children:(0,t.jsx)("span",{className:"flex items-center gap-1 justify-center text-sm",children:"Jesuit"})}),(0,t.jsx)("th",{className:"text-right p-2 text-sm font-medium text-foreground border-r border-border min-w-[120px]",children:(0,t.jsxs)("button",{onClick:()=>x("tuition"),className:"flex items-center gap-1 hover:text-primary transition-colors w-full justify-end text-sm","data-testid":"button-sort-tuition",children:["Tuition",g("tuition")]})}),(0,t.jsx)("th",{className:"text-right p-2 text-sm font-medium text-foreground border-r border-border min-w-[120px]",children:(0,t.jsxs)("button",{onClick:()=>x("netCost"),className:"flex items-center gap-1 hover:text-primary transition-colors w-full justify-end text-sm","data-testid":"button-sort-netcost",children:["Net Cost",g("netCost")]})}),(0,t.jsx)("th",{className:"text-right p-2 text-sm font-medium text-foreground border-r border-border min-w-[100px]",children:(0,t.jsxs)("button",{onClick:()=>x("acceptance"),className:"flex items-center gap-1 hover:text-primary transition-colors w-full justify-end text-sm","data-testid":"button-sort-acceptance",children:["Acceptance",g("acceptance")]})}),(0,t.jsx)("th",{className:"text-center p-2 text-sm font-medium text-foreground min-w-[80px]",children:(0,t.jsx)("span",{className:"flex items-center gap-1 justify-center text-sm",children:"Favorite"})}),(0,t.jsx)("th",{className:"text-center p-2 text-sm font-medium text-foreground min-w-[100px]",children:(0,t.jsx)("span",{className:"flex items-center gap-1 justify-center text-sm",children:"Website"})})]})}),(0,t.jsx)("tbody",{children:e.map((e,s)=>{var a;return(0,t.jsxs)("tr",{className:`border-b border-border hover:bg-amber-50/50 transition-colors ${s%2==0?"bg-white":"bg-gray-50"} ${i.has(e.id)?"ring-2 ring-primary/20 bg-primary/5":""} ${o(e.id)?"bg-red-50":""}`,"data-testid":`row-college-${e.id}`,children:[(0,t.jsx)("td",{className:"p-2 border-r border-border text-center",children:(0,t.jsx)(Z,{checked:i.has(e.id),onCheckedChange:t=>{var s;let a;return s=e.id,a=new Set(i),void(t?a.add(s):a.delete(s),n(a))},"data-testid":`checkbox-college-${e.id}`})}),(0,t.jsx)("td",{className:"p-2 border-r border-border",children:(0,t.jsx)(A.default,{href:`/college/${e.id}`,children:(0,t.jsx)("div",{className:"text-sm font-medium text-primary hover:text-primary/80 cursor-pointer transition-colors","data-testid":`link-college-name-${e.id}`,children:e.name})})}),(0,t.jsx)("td",{className:"p-2 border-r border-border",children:(0,t.jsxs)("div",{className:"text-xs text-muted-foreground","data-testid":`text-college-location-${e.id}`,children:[e.city,", ",e.state]})}),(0,t.jsx)("td",{className:"p-2 border-r border-border",children:(0,t.jsx)("div",{className:"text-xs text-muted-foreground","data-testid":`text-college-type-${e.id}`,children:e.type||"N/A"})}),(0,t.jsx)("td",{className:"p-2 border-r border-border",children:(0,t.jsx)("div",{className:"text-xs text-muted-foreground","data-testid":`text-college-region-${e.id}`,children:e.region||"N/A"})}),(0,t.jsx)("td",{className:"p-2 border-r border-border",children:(0,t.jsx)("div",{className:"text-xs text-muted-foreground","data-testid":`text-college-size-${e.id}`,children:e.size||"N/A"})}),(0,t.jsx)("td",{className:"p-2 border-r border-border text-center",children:(0,t.jsx)("div",{className:"text-xs","data-testid":`text-jesuit-${e.id}`,children:e.jesuit?(0,t.jsx)("span",{className:"text-blue-600 font-medium",children:"✓ Yes"}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"No"})})}),(0,t.jsx)("td",{className:"p-2 border-r border-border text-right",children:(0,t.jsx)("div",{className:"text-xs text-muted-foreground","data-testid":`text-tuition-${e.id}`,children:f(e.tuitionInState)})}),(0,t.jsx)("td",{className:"p-2 border-r border-border text-right",children:(0,t.jsx)("div",{className:"text-xs text-muted-foreground","data-testid":`text-net-cost-${e.id}`,children:f(e.netCost)})}),(0,t.jsx)("td",{className:"p-2 border-r border-border text-right",children:(0,t.jsx)("div",{className:"text-xs text-muted-foreground","data-testid":`text-acceptance-${e.id}`,children:(a=e.acceptanceRate)?`${a.toFixed(1)}%`:"N/A"})}),(0,t.jsx)("td",{className:"p-2 text-center",children:(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(l.Button,{size:"sm",variant:"ghost",className:"h-7 px-2",onClick:()=>d(e.id),"data-testid":`button-favorite-${e.id}`,children:(0,t.jsx)(R.Heart,{className:`w-4 h-4 ${o(e.id)?"fill-red-500 text-red-500":"text-gray-400 hover:text-red-400"}`})})})}),(0,t.jsx)("td",{className:"p-2 text-center",children:(0,t.jsx)("div",{className:"flex justify-center",children:e.website&&(0,t.jsx)(l.Button,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs",asChild:!0,children:(0,t.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer","data-testid":`link-website-${e.id}`,children:(0,t.jsx)(G.ExternalLink,{className:"w-3 h-3"})})})})})]},e.id)})})]})})]})}var er=e.i(15288),ei=e.i(87486),el=e.i(46897);function en({college:e,viewMode:s}){let{isFavorite:a,toggleFavorite:r}=(0,F.useFavorites)(),i=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e):"N/A",n=e=>e?`${e.toFixed(1)}%`:"N/A";return"list"===s?(0,t.jsx)(er.Card,{className:"hover:shadow-lg transition-shadow group","data-testid":`card-college-${e.id}`,children:(0,t.jsx)(er.CardContent,{className:"p-6",children:(0,t.jsx)("div",{className:"flex gap-6",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-card-foreground group-hover:text-primary transition-colors truncate","data-testid":`text-college-name-${e.id}`,children:e.name}),(0,t.jsxs)("p",{className:"text-muted-foreground flex items-center",children:[(0,t.jsx)(el.MapPin,{className:"w-4 h-4 mr-1"}),(0,t.jsxs)("span",{"data-testid":`text-college-location-${e.id}`,children:[e.city,", ",e.state]})]})]}),(0,t.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>r(e.id),"data-testid":`button-favorite-${e.id}`,children:(0,t.jsx)(R.Heart,{className:`w-5 h-5 ${a(e.id)?"text-primary fill-current":"text-muted-foreground"}`})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Students:"}),(0,t.jsx)("div",{className:"font-medium","data-testid":`text-enrollment-${e.id}`,children:e.enrollment?.toLocaleString()||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Tuition:"}),(0,t.jsx)("div",{className:"font-medium","data-testid":`text-tuition-${e.id}`,children:i(e.tuitionInState)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Acceptance:"}),(0,t.jsx)("div",{className:"font-medium","data-testid":`text-acceptance-${e.id}`,children:n(e.acceptanceRate)})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(ei.Badge,{variant:"outline",className:"text-xs","data-testid":`badge-type-${e.id}`,children:e.type}),(0,t.jsx)(ei.Badge,{variant:"outline",className:"text-xs","data-testid":`badge-size-${e.id}`,children:e.size})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(A.default,{href:`/college/${e.id}`,children:(0,t.jsx)(l.Button,{size:"sm","data-testid":`button-view-details-${e.id}`,children:"View Details"})}),e.website&&(0,t.jsx)(l.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer","data-testid":`link-website-${e.id}`,children:[(0,t.jsx)(G.ExternalLink,{className:"w-4 h-4 mr-1"}),"Website"]})})]})})]})})})}):(0,t.jsx)(er.Card,{className:"bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-shadow group","data-testid":`card-college-${e.id}`,children:(0,t.jsxs)(er.CardContent,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-card-foreground group-hover:text-primary transition-colors","data-testid":`text-college-name-${e.id}`,children:e.name}),(0,t.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>r(e.id),"data-testid":`button-favorite-${e.id}`,children:(0,t.jsx)(R.Heart,{className:`w-5 h-5 ${a(e.id)?"text-primary fill-current":"text-muted-foreground"}`})})]}),(0,t.jsxs)("p",{className:"text-muted-foreground mb-4 flex items-center",children:[(0,t.jsx)(el.MapPin,{className:"w-4 h-4 mr-1"}),(0,t.jsxs)("span",{"data-testid":`text-college-location-${e.id}`,children:[e.city,", ",e.state]})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Students:"}),(0,t.jsx)("span",{className:"text-sm font-medium","data-testid":`text-enrollment-${e.id}`,children:e.enrollment?.toLocaleString()||"N/A"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Tuition:"}),(0,t.jsx)("span",{className:"text-sm font-medium","data-testid":`text-tuition-${e.id}`,children:i(e.tuitionInState)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Acceptance:"}),(0,t.jsx)("span",{className:"text-sm font-medium","data-testid":`text-acceptance-${e.id}`,children:n(e.acceptanceRate)})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[(0,t.jsx)(ei.Badge,{variant:"outline",className:"text-xs","data-testid":`badge-type-${e.id}`,children:e.type}),(0,t.jsx)(ei.Badge,{variant:"outline",className:"text-xs","data-testid":`badge-size-${e.id}`,children:e.size}),e.programs&&e.programs.length>0&&(0,t.jsxs)(ei.Badge,{variant:"outline",className:"text-xs",children:["+",e.programs.length," programs"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(A.default,{href:`/college/${e.id}`,className:"flex-1",children:(0,t.jsx)(l.Button,{className:"w-full","data-testid":`button-view-details-${e.id}`,children:"View Details"})}),e.website&&(0,t.jsx)(l.Button,{variant:"outline",size:"icon",asChild:!0,children:(0,t.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer","data-testid":`link-website-${e.id}`,children:(0,t.jsx)(G.ExternalLink,{className:"w-4 h-4"})})})]})]})})}function eo({searchParams:e,onRemoveFilter:s,onClearAll:a}){let r=[];if(e.query&&e.query.trim()&&r.push({key:"query",label:`Search: "${e.query}"`,value:e.query}),e.states&&e.states.length>0&&r.push({key:"states",label:`States: ${e.states.join(", ")}`,value:e.states.join(", ")}),e.regions&&e.regions.length>0&&r.push({key:"regions",label:`Regions: ${e.regions.join(", ")}`,value:e.regions.join(", ")}),e.types&&e.types.length>0&&r.push({key:"types",label:`Types: ${e.types.join(", ")}`,value:e.types.join(", ")}),e.size&&r.push({key:"size",label:`Size: ${e.size}`,value:e.size}),e.tuitionMin||e.tuitionMax){let t=e.tuitionMin?`$${e.tuitionMin.toLocaleString()}`:"0",s=e.tuitionMax?`$${e.tuitionMax.toLocaleString()}`:"∞";r.push({key:"tuitionMin",label:`Tuition: ${t} - ${s}`,value:`${t}-${s}`})}if(e.enrollmentMin||e.enrollmentMax){let t=e.enrollmentMin?e.enrollmentMin.toLocaleString():"0",s=e.enrollmentMax?e.enrollmentMax.toLocaleString():"∞";r.push({key:"enrollmentMin",label:`Enrollment: ${t} - ${s}`,value:`${t}-${s}`})}if(e.acceptanceRanges&&e.acceptanceRanges.length>0){let t=e.acceptanceRanges.filter(e=>"N/A"!==e);t.length>0&&r.push({key:"acceptanceRanges",label:`Acceptance Rate: ${t.join(", ")}`,value:t.join(", ")})}else if(e.acceptanceRateMin||e.acceptanceRateMax){let t=e.acceptanceRateMin?`${e.acceptanceRateMin}%`:"0%",s=e.acceptanceRateMax?`${e.acceptanceRateMax}%`:"100%";r.push({key:"acceptanceRateMin",label:`Acceptance Rate: ${t} - ${s}`,value:`${t}-${s}`})}return(e.jesuitOnly&&r.push({key:"jesuitOnly",label:"Jesuit Colleges Only",value:"Yes"}),0===r.length)?null:(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[r.map(e=>(0,t.jsxs)(ei.Badge,{variant:"secondary",className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-primary/15 text-foreground border-2 border-primary/50 hover:bg-primary/25 hover:border-primary/60 transition-all duration-200 rounded-lg shadow-sm","data-testid":`badge-filter-${e.key}`,children:[(0,t.jsx)("span",{className:"font-medium",children:e.label}),(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",className:"h-auto p-0 w-5 h-5 ml-1 hover:bg-primary/40 text-foreground rounded-full",onClick:()=>{var t;"tuitionMin"===(t=e.key)?(s("tuitionMin"),s("tuitionMax")):"enrollmentMin"===t?(s("enrollmentMin"),s("enrollmentMax")):"acceptanceRateMin"===t?(s("acceptanceRateMin"),s("acceptanceRateMax")):"acceptanceRanges"===t?s("acceptanceRanges"):s(t)},"data-testid":`button-remove-filter-${e.key}`,children:(0,t.jsx)(M.X,{className:"w-4 h-4"})})]},e.key)),r.length>1&&(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",className:"text-sm text-muted-foreground hover:text-foreground ml-2 font-medium",onClick:a,"data-testid":"button-clear-all-filters",children:"Clear all filters"})]})}var ed=e.i(76639);function ec({open:e,onClose:a,onSave:n,suggestedName:o,savedFilters:d,isAtLimit:c}){let[m,x]=(0,s.useState)(""),[u,h]=(0,s.useState)(""),[p,g]=(0,s.useState)(c),f=e=>{e?(x(o),h(""),g(c)):a()},j=d.map(e=>e.name).includes(m.trim());return(0,t.jsx)(ed.Dialog,{open:e,onOpenChange:f,children:(0,t.jsxs)(ed.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsx)(ed.DialogHeader,{children:(0,t.jsx)(ed.DialogTitle,{children:"Save Filter Combination"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(C.Label,{htmlFor:"filter-name",children:"Filter Name"}),(0,t.jsx)(r.Input,{id:"filter-name",value:m,onChange:e=>x(e.target.value),placeholder:"Enter a name for this search","data-testid":"input-filter-name"}),j&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"A filter with this name already exists"})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Saved filters: ",d.length,"/5"]}),c&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,t.jsx)(C.Label,{children:"You have reached the 5 filter limit."})}),(0,t.jsx)(C.Label,{htmlFor:"replace-filter",children:"Replace existing filter:"}),(0,t.jsxs)(i.Select,{value:u,onValueChange:h,children:[(0,t.jsx)(i.SelectTrigger,{"data-testid":"select-replace-filter",children:(0,t.jsx)(i.SelectValue,{placeholder:"Choose filter to replace"})}),(0,t.jsx)(i.SelectContent,{children:d.map(e=>(0,t.jsx)(i.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),!c&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"replace-mode",checked:p,onChange:e=>g(e.target.checked),className:"rounded"}),(0,t.jsx)(C.Label,{htmlFor:"replace-mode",className:"text-sm",children:"Replace existing filter instead"})]}),p&&!c&&(0,t.jsxs)("div",{children:[(0,t.jsx)(C.Label,{htmlFor:"replace-filter-2",children:"Replace filter:"}),(0,t.jsxs)(i.Select,{value:u,onValueChange:h,children:[(0,t.jsx)(i.SelectTrigger,{children:(0,t.jsx)(i.SelectValue,{placeholder:"Choose filter to replace"})}),(0,t.jsx)(i.SelectContent,{children:d.map(e=>(0,t.jsx)(i.SelectItem,{value:e.id,children:e.name},e.id))})]})]})]}),(0,t.jsxs)(ed.DialogFooter,{children:[(0,t.jsx)(l.Button,{variant:"outline",onClick:()=>f(!1),"data-testid":"button-cancel-save",children:"Cancel"}),(0,t.jsx)(l.Button,{onClick:()=>{m.trim()&&(p&&u?n(m,u):p||n(m),f(!1))},disabled:!m.trim()||j||p&&!u,"data-testid":"button-save-filter",children:"Save Filter"})]})]})})}var em=e.i(2747);let ex=(0,ee.default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),eu=(0,ee.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),eh=(0,ee.default)("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),ep=(0,ee.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var eg=e.i(63059);let ef=(0,ee.default)("bookmark",[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]]);function ej(){let e,[r,i]=(0,s.useState)({query:"",page:1,limit:100,sortBy:"relevance",sortOrder:"asc"}),[n,o]=(0,s.useState)("table"),[d,c]=(0,s.useState)(!1),[m,x]=(0,s.useState)([]),{favorites:u,isFavorite:h,toggleFavorite:p,getFavoritesList:g}=(0,F.useFavorites)();(0,s.useEffect)(()=>{let e=localStorage.getItem("savedFilters");e&&x(JSON.parse(e))},[]),(0,s.useEffect)(()=>{localStorage.setItem("savedFilters",JSON.stringify(m))},[m]);let f=(0,s.useMemo)(()=>g(),[g]),{colleges:j,total:b,isLoading:v,error:y}=function(e){let t,s=e.showFavoritesOnly&&(!e.favoriteIds||0===e.favoriteIds.length),r=(t=new URLSearchParams,Object.entries(e).forEach(([e,s])=>{"showFavoritesOnly"!==e&&"favoriteIds"!==e&&null!=s&&""!==s&&(Array.isArray(s)&&s.length>0?t.append(e,s.join(",")):Array.isArray(s)||t.append(e,s.toString()))}),e.showFavoritesOnly&&e.favoriteIds&&e.favoriteIds.length>0&&t.append("favoriteIds",e.favoriteIds.join(",")),t.toString()),{data:i,isLoading:l,error:n}=(0,a.useQuery)({queryKey:[`/api/colleges?${r}`],queryFn:async()=>{let e=await fetch(`/api/colleges?${r}`);if(!e.ok)throw Error("Failed to fetch colleges");return e.json()},enabled:!s});return{colleges:i?.colleges||[],total:i?.total||0,isLoading:l,error:n}}((0,s.useMemo)(()=>r.showFavoritesOnly?{...r,favoriteIds:f}:r,[r,f]));r.showFavoritesOnly&&f.length;let N=(0,s.useMemo)(()=>{let{page:e,limit:t,sortBy:s,sortOrder:a,...i}=r,l={};return Object.entries(i).forEach(([e,t])=>{null==t||""===t||Array.isArray(t)&&0===t.length||(l[e]=t)}),l},[r]),w=(0,s.useMemo)(()=>Object.keys(N).length>0,[N]),k=m.length>=5,S=(0,s.useCallback)(e=>{i(t=>({...t,...e,page:e.page||1}))},[]),C=(0,s.useCallback)(e=>{i(t=>({...t,page:e}))},[]),$=r.page||1,R=r.limit||100,z=Math.ceil(b/R),O=Math.min($*R,b);return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(B,{searchParams:r,onSearch:S}),(0,t.jsx)("section",{className:"py-8 px-4",children:(0,t.jsxs)("div",{className:"container mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold mb-4 lg:mb-0","data-testid":"text-results-title",children:["Colleges (",(0,t.jsx)("span",{"data-testid":"text-filtered-count",children:b.toLocaleString()}),")"]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[m.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Saved Filters:"}),m.map(e=>{let s,a=(s=e.filters,(N.query||void 0)===(s.query||void 0)&&JSON.stringify(N.states||[])===JSON.stringify(s.states||[])&&JSON.stringify(N.regions||[])===JSON.stringify(s.regions||[])&&JSON.stringify(N.types||[])===JSON.stringify(s.types||[])&&(N.size||void 0)===(s.size||void 0)&&(N.tuitionMin||void 0)===(s.tuitionMin||void 0)&&(N.tuitionMax||void 0)===(s.tuitionMax||void 0)&&(N.enrollmentMin||void 0)===(s.enrollmentMin||void 0)&&(N.enrollmentMax||void 0)===(s.enrollmentMax||void 0)&&(N.acceptanceRateMin||void 0)===(s.acceptanceRateMin||void 0)&&(N.acceptanceRateMax||void 0)===(s.acceptanceRateMax||void 0));return(0,t.jsxs)("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-sm border transition-all ${a?"bg-amber-200 text-amber-900 border-amber-300 ring-2 ring-amber-300 shadow-md font-medium":"bg-amber-100 text-amber-800 border-amber-200 hover:bg-amber-150"}`,children:[(0,t.jsxs)("button",{onClick:()=>{i(t=>({...t,...e.filters,page:1}))},className:`hover:underline ${a?"cursor-default":""}`,"data-testid":`button-apply-filter-${e.id}`,disabled:a,children:[e.name," ",a&&"✓"]}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void x(e=>e.filter(e=>e.id!==t))},className:`ml-1 hover:opacity-75 ${a?"text-amber-700":"text-amber-600 hover:text-amber-800"}`,"data-testid":`button-delete-filter-${e.id}`,children:(0,t.jsx)(M.X,{className:"w-3 h-3"})})]},e.id)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{htmlFor:"sort-select",className:"text-sm text-muted-foreground whitespace-nowrap",children:"Sort by:"}),(0,t.jsxs)("select",{id:"sort-select",name:"sort",className:"px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-ring",value:`${r.sortBy}-${r.sortOrder}`,onChange:e=>{let[t,s]=e.target.value.split("-");S({sortBy:t,sortOrder:s})},"data-testid":"select-sort",children:[(0,t.jsx)("option",{value:"relevance-asc",children:"Relevance"}),(0,t.jsx)("option",{value:"name-asc",children:"Name (A-Z)"}),(0,t.jsx)("option",{value:"name-desc",children:"Name (Z-A)"}),(0,t.jsx)("option",{value:"tuition-asc",children:"Tuition (Low to High)"}),(0,t.jsx)("option",{value:"tuition-desc",children:"Tuition (High to Low)"}),(0,t.jsx)("option",{value:"enrollment-desc",children:"School Size (Large to Small)"}),(0,t.jsx)("option",{value:"enrollment-asc",children:"School Size (Small to Large)"}),(0,t.jsx)("option",{value:"acceptance-asc",children:"Acceptance Rate (Low to High)"}),(0,t.jsx)("option",{value:"acceptance-desc",children:"Acceptance Rate (High to Low)"})]})]}),(0,t.jsxs)("div",{className:"flex border border-border rounded-lg overflow-hidden",children:[(0,t.jsx)(l.Button,{variant:"grid"===n?"default":"ghost",size:"sm",onClick:()=>o("grid"),"data-testid":"button-view-grid",children:(0,t.jsx)(ex,{className:"w-4 h-4"})}),(0,t.jsx)(l.Button,{variant:"list"===n?"default":"ghost",size:"sm",onClick:()=>o("list"),"data-testid":"button-view-list",children:(0,t.jsx)(eu,{className:"w-4 h-4"})}),(0,t.jsx)(l.Button,{variant:"table"===n?"default":"ghost",size:"sm",onClick:()=>o("table"),"data-testid":"button-view-table",children:(0,t.jsx)(eh,{className:"w-4 h-4"})})]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(eo,{searchParams:r,onRemoveFilter:e=>{i(t=>{let s={...t};return"tuitionMin"===e||"tuitionMax"===e?(delete s.tuitionMin,delete s.tuitionMax):"enrollmentMin"===e||"enrollmentMax"===e?(delete s.enrollmentMin,delete s.enrollmentMax):delete s[e],{...s,page:1}})},onClearAll:()=>{i(e=>({query:"",page:1,limit:e.limit,sortBy:e.sortBy,sortOrder:e.sortOrder}))}}),w&&(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"text-blue-600 border-blue-200 hover:bg-blue-50","data-testid":"button-save-filters",children:[(0,t.jsx)(ef,{className:"w-4 h-4 mr-1"}),"Save"]})]})]}),v&&(0,t.jsx)("div",{className:`grid gap-6 ${"grid"===n?"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5":"grid-cols-1"}`,children:Array.from({length:6}).map((e,s)=>(0,t.jsxs)("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:[(0,t.jsx)(em.Skeleton,{className:"w-full h-48"}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsx)(em.Skeleton,{className:"h-6 w-3/4"}),(0,t.jsx)(em.Skeleton,{className:"h-4 w-1/2"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(em.Skeleton,{className:"h-4 w-full"}),(0,t.jsx)(em.Skeleton,{className:"h-4 w-full"}),(0,t.jsx)(em.Skeleton,{className:"h-4 w-full"})]}),(0,t.jsx)(em.Skeleton,{className:"h-8 w-full"})]})]},s))}),y&&(0,t.jsxs)("div",{className:"text-center py-12","data-testid":"error-message",children:[(0,t.jsxs)("p",{className:"text-destructive",children:["Error loading colleges: ",y.message]}),(0,t.jsx)(l.Button,{variant:"outline",onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]}),!v&&!y&&(0,t.jsxs)(t.Fragment,{children:["table"===n&&(0,t.jsx)(ea,{colleges:j,searchParams:r,onSort:(e,t)=>S({sortBy:e,sortOrder:t})}),"grid"===n&&(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:j.map(e=>(0,t.jsx)(en,{college:e,viewMode:"grid"},e.id))}),"list"===n&&(0,t.jsx)("div",{className:"space-y-4",children:j.map(e=>(0,t.jsx)(en,{college:e,viewMode:"list"},e.id))}),z>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-8",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",(($-1)*R+1).toLocaleString(),"-",O.toLocaleString()," of"," ",b.toLocaleString()," colleges"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>C($-1),disabled:$<=1,"data-testid":"button-prev-page",children:[(0,t.jsx)(ep,{className:"w-4 h-4 mr-1"}),"Previous"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[$>3&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Button,{variant:1===$?"default":"ghost",size:"sm",onClick:()=>C(1),"data-testid":"button-page-1",children:"1"}),$>4&&(0,t.jsx)("span",{className:"px-2",children:"..."})]}),Array.from({length:Math.min(5,z)},(e,s)=>{let a=Math.max(1,$-2)+s;return a>z||1===a&&$>3||a===z&&$<z-2?null:(0,t.jsx)(l.Button,{variant:$===a?"default":"ghost",size:"sm",onClick:()=>C(a),"data-testid":`button-page-${a}`,children:a},a)}),$<z-2&&(0,t.jsxs)(t.Fragment,{children:[$<z-3&&(0,t.jsx)("span",{className:"px-2",children:"..."}),(0,t.jsx)(l.Button,{variant:z===$?"default":"ghost",size:"sm",onClick:()=>C(z),"data-testid":`button-page-${z}`,children:z})]})]}),(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>C($+1),disabled:$>=z,"data-testid":"button-next-page",children:["Next",(0,t.jsx)(eg.ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]})]})]})}),(0,t.jsx)(ec,{open:d,onClose:()=>c(!1),onSave:(e,t)=>{let s={id:Date.now().toString(),name:e,filters:N,createdAt:new Date};t?x(e=>e.map(e=>e.id===t?s:e)):x(e=>[...e,s]),c(!1)},suggestedName:(e=[],N.states&&N.states.length>0&&(1===N.states.length?e.push(N.states[0]):e.push(`${N.states.length} States`)),N.types&&N.types.length>0&&(1===N.types.length?e.push(N.types[0]):e.push(`${N.types.length} Types`)),N.size&&e.push(N.size),(N.tuitionMin||N.tuitionMax)&&(N.tuitionMin&&N.tuitionMax?e.push(`$${N.tuitionMin/1e3}k-${N.tuitionMax/1e3}k`):N.tuitionMin?e.push(`>$${N.tuitionMin/1e3}k`):N.tuitionMax&&e.push(`<$${N.tuitionMax/1e3}k`)),e.length>0?e.join(" + "):"Custom Filter"),savedFilters:m,isAtLimit:k})]})}e.s(["default",()=>ej],52683)}]);