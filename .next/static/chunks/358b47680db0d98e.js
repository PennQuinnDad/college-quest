(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72906,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(66027),i=e.i(54616),l=e.i(12598),n=e.i(36556),r=e.i(566),o=e.i(19455),c=e.i(57428),d=e.i(93479),h=e.i(10204),u=e.i(15288),m=e.i(87486),x=e.i(76639),g=e.i(67489),p=e.i(75157);let j=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,p.cn)("w-full caption-bottom text-sm",e),...s})}));j.displayName="Table";let v=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("thead",{ref:t,className:(0,p.cn)("border-b border-border bg-muted/50 [&_tr]:border-b",e),...s}));v.displayName="TableHeader";let y=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("tbody",{ref:t,className:(0,p.cn)("[&_tr:last-child]:border-0",e),...s}));y.displayName="TableBody",s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("tfoot",{ref:t,className:(0,p.cn)("border-t border-border bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let f=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("tr",{ref:t,className:(0,p.cn)("border-b border-border transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));f.displayName="TableRow";let b=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("th",{ref:t,className:(0,p.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));b.displayName="TableHead";let N=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("td",{ref:t,className:(0,p.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));N.displayName="TableCell",s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("caption",{ref:t,className:(0,p.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption";var S=e.i(81140),C=e.i(30030),w=e.i(42727),I=e.i(96626),T=e.i(48425),k=e.i(86318),L=e.i(69340),D=e.i(10772),P="Tabs",[F,R]=(0,C.createContextScope)(P,[w.createRovingFocusGroupScope]),E=(0,w.createRovingFocusGroupScope)(),[B,M]=F(P),A=s.forwardRef((e,s)=>{let{__scopeTabs:t,value:i,onValueChange:l,defaultValue:n,orientation:r="horizontal",dir:o,activationMode:c="automatic",...d}=e,h=(0,k.useDirection)(o),[u,m]=(0,L.useControllableState)({prop:i,onChange:l,defaultProp:n??"",caller:P});return(0,a.jsx)(B,{scope:t,baseId:(0,D.useId)(),value:u,onValueChange:m,orientation:r,dir:h,activationMode:c,children:(0,a.jsx)(T.Primitive.div,{dir:h,"data-orientation":r,...d,ref:s})})});A.displayName=P;var z="TabsList",O=s.forwardRef((e,s)=>{let{__scopeTabs:t,loop:i=!0,...l}=e,n=M(z,t),r=E(t);return(0,a.jsx)(w.Root,{asChild:!0,...r,orientation:n.orientation,dir:n.dir,loop:i,children:(0,a.jsx)(T.Primitive.div,{role:"tablist","aria-orientation":n.orientation,...l,ref:s})})});O.displayName=z;var q="TabsTrigger",$=s.forwardRef((e,s)=>{let{__scopeTabs:t,value:i,disabled:l=!1,...n}=e,r=M(q,t),o=E(t),c=H(r.baseId,i),d=U(r.baseId,i),h=i===r.value;return(0,a.jsx)(w.Item,{asChild:!0,...o,focusable:!l,active:h,children:(0,a.jsx)(T.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:c,...n,ref:s,onMouseDown:(0,S.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():r.onValueChange(i)}),onKeyDown:(0,S.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&r.onValueChange(i)}),onFocus:(0,S.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==r.activationMode;h||l||!e||r.onValueChange(i)})})})});$.displayName=q;var V="TabsContent",K=s.forwardRef((e,t)=>{let{__scopeTabs:i,value:l,forceMount:n,children:r,...o}=e,c=M(V,i),d=H(c.baseId,l),h=U(c.baseId,l),u=l===c.value,m=s.useRef(u);return s.useEffect(()=>{let e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(I.Presence,{present:n||u,children:({present:s})=>(0,a.jsx)(T.Primitive.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!s,id:h,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:s&&r})})});function H(e,a){return`${e}-trigger-${a}`}function U(e,a){return`${e}-content-${a}`}K.displayName=V;let Q=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)(O,{ref:t,className:(0,p.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));Q.displayName=O.displayName;let G=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)($,{ref:t,className:(0,p.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));G.displayName=$.displayName;let W=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)(K,{ref:t,className:(0,p.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));W.displayName=K.displayName;var _=e.i(27612),J=e.i(88511),X=e.i(75254);let Y=(0,X.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var Z=e.i(92270),ee=e.i(55436),ea=e.i(39616),es=e.i(32095);let et=(0,X.default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);var ei=e.i(37727);let el={"01":"Agriculture","03":"Natural Resources & Conservation","04":"Architecture","05":"Area, Ethnic, & Gender Studies","09":"Communication & Journalism",10:"Communications Technologies",11:"Computer & Information Sciences",12:"Culinary & Personal Services",13:"Education",14:"Engineering",15:"Engineering Technologies",16:"Foreign Languages & Linguistics",19:"Family & Consumer Sciences",22:"Law",23:"English Language & Literature",24:"Liberal Arts & General Studies",25:"Library Science",26:"Biological Sciences",27:"Mathematics & Statistics",29:"Military Technologies",30:"Interdisciplinary Studies",31:"Parks, Recreation & Fitness",38:"Philosophy & Religious Studies",39:"Theology & Religious Vocations",40:"Physical Sciences",41:"Science Technologies",42:"Psychology",43:"Homeland Security & Law Enforcement",44:"Public Administration & Social Services",45:"Social Sciences",46:"Construction Trades",47:"Mechanic & Repair Technologies",48:"Precision Production",49:"Transportation & Materials Moving",50:"Visual & Performing Arts",51:"Health Professions",52:"Business",54:"History"};function en({onLogin:e}){let[t,i]=(0,s.useState)(""),[l,n]=(0,s.useState)(!1),[r,c]=(0,s.useState)(""),m=async a=>{a.preventDefault(),c(""),n(!0);try{await e(t)}catch(e){c(e.message||"Login failed")}finally{n(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[calc(100vh-4rem)] bg-gray-50",children:(0,a.jsxs)(u.Card,{className:"w-full max-w-md",children:[(0,a.jsxs)(u.CardHeader,{children:[(0,a.jsxs)(u.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(ea.Settings,{className:"h-5 w-5"}),"Admin Login"]}),(0,a.jsx)(u.CardDescription,{children:"Enter the admin password to access the college management dashboard"})]}),(0,a.jsx)(u.CardContent,{children:(0,a.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[r&&(0,a.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-600",children:r}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"password",children:"Password"}),(0,a.jsx)(d.Input,{id:"password",type:"password",value:t,onChange:e=>i(e.target.value),placeholder:"Enter admin password",required:!0,disabled:l})]}),(0,a.jsx)(o.Button,{type:"submit",className:"w-full",disabled:l,children:l?"Logging in...":"Login"})]})})]})})})}function er({college:e,onSave:t,onCancel:i,isLoading:l}){let[n,r]=(0,s.useState)({name:e?.name||"",city:e?.city||"",state:e?.state||"",region:e?.region||"",website:e?.website||"",type:e?.type||"",size:e?.size||"",tuitionInState:e?.tuitionInState||void 0,tuitionOutOfState:e?.tuitionOutOfState||void 0,acceptanceRate:e?.acceptanceRate||void 0,enrollment:e?.enrollment||void 0,description:e?.description||""});return(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(n)},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"name",children:"College Name *"}),(0,a.jsx)(d.Input,{id:"name",value:n.name,onChange:e=>r({...n,name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"city",children:"City *"}),(0,a.jsx)(d.Input,{id:"city",value:n.city,onChange:e=>r({...n,city:e.target.value}),required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"state",children:"State *"}),(0,a.jsx)(d.Input,{id:"state",value:n.state,onChange:e=>r({...n,state:e.target.value}),placeholder:"CA",required:!0,maxLength:2})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"region",children:"Region"}),(0,a.jsxs)(g.Select,{value:n.region||"",onValueChange:e=>r({...n,region:e}),children:[(0,a.jsx)(g.SelectTrigger,{children:(0,a.jsx)(g.SelectValue,{placeholder:"Select region"})}),(0,a.jsxs)(g.SelectContent,{children:[(0,a.jsx)(g.SelectItem,{value:"",children:"None"}),(0,a.jsx)(g.SelectItem,{value:"Northeast",children:"Northeast"}),(0,a.jsx)(g.SelectItem,{value:"South",children:"South"}),(0,a.jsx)(g.SelectItem,{value:"Midwest",children:"Midwest"}),(0,a.jsx)(g.SelectItem,{value:"West",children:"West"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"type",children:"Type"}),(0,a.jsxs)(g.Select,{value:n.type||"",onValueChange:e=>r({...n,type:e}),children:[(0,a.jsx)(g.SelectTrigger,{children:(0,a.jsx)(g.SelectValue,{placeholder:"Select type"})}),(0,a.jsxs)(g.SelectContent,{children:[(0,a.jsx)(g.SelectItem,{value:"",children:"None"}),(0,a.jsx)(g.SelectItem,{value:"Public",children:"Public"}),(0,a.jsx)(g.SelectItem,{value:"Private",children:"Private"}),(0,a.jsx)(g.SelectItem,{value:"Community",children:"Community"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"size",children:"Size"}),(0,a.jsxs)(g.Select,{value:n.size||"",onValueChange:e=>r({...n,size:e}),children:[(0,a.jsx)(g.SelectTrigger,{children:(0,a.jsx)(g.SelectValue,{placeholder:"Select size"})}),(0,a.jsxs)(g.SelectContent,{children:[(0,a.jsx)(g.SelectItem,{value:"",children:"None"}),(0,a.jsx)(g.SelectItem,{value:"Small",children:"Small"}),(0,a.jsx)(g.SelectItem,{value:"Medium",children:"Medium"}),(0,a.jsx)(g.SelectItem,{value:"Large",children:"Large"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"website",children:"Website"}),(0,a.jsx)(d.Input,{id:"website",type:"url",value:n.website||"",onChange:e=>r({...n,website:e.target.value}),placeholder:"https://example.edu"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"tuitionInState",children:"In-State Tuition ($)"}),(0,a.jsx)(d.Input,{id:"tuitionInState",type:"number",value:n.tuitionInState||"",onChange:e=>r({...n,tuitionInState:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"25000"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"tuitionOutOfState",children:"Out-of-State Tuition ($)"}),(0,a.jsx)(d.Input,{id:"tuitionOutOfState",type:"number",value:n.tuitionOutOfState||"",onChange:e=>r({...n,tuitionOutOfState:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"45000"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"acceptanceRate",children:"Acceptance Rate (%)"}),(0,a.jsx)(d.Input,{id:"acceptanceRate",type:"number",step:"0.1",min:"0",max:"100",value:n.acceptanceRate||"",onChange:e=>r({...n,acceptanceRate:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"25.5"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"enrollment",children:"Enrollment"}),(0,a.jsx)(d.Input,{id:"enrollment",type:"number",value:n.enrollment||"",onChange:e=>r({...n,enrollment:e.target.value?parseInt(e.target.value):void 0}),placeholder:"5000"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"description",children:"Description"}),(0,a.jsx)(d.Input,{id:"description",value:n.description||"",onChange:e=>r({...n,description:e.target.value}),placeholder:"A brief description of the college..."})]}),(0,a.jsxs)(x.DialogFooter,{children:[(0,a.jsx)(o.Button,{type:"button",variant:"outline",onClick:i,disabled:l,children:"Cancel"}),(0,a.jsx)(o.Button,{type:"submit",disabled:l,children:l?"Saving...":e?"Update College":"Create College"})]})]})}function eo({school:e,onSave:t,onCancel:i,isLoading:l,token:n}){let[r,c]=(0,s.useState)({name:e?.name||"",collegeId:e?.collegeId||"",category:e?.category||"",cipCode:e?.cipCode||"",description:e?.description||"",website:e?.website||""}),[u,p]=(0,s.useState)(""),[j,v]=(0,s.useState)([]),[y,f]=(0,s.useState)(e?.collegeName||""),[b,N]=(0,s.useState)(!1),S=Object.values(el).sort();return(0,s.useEffect)(()=>{if(!u.trim()||u.length<2)return void v([]);let e=setTimeout(async()=>{try{let e=await fetch(`/api/admin/colleges?query=${encodeURIComponent(u)}&limit=10`,{headers:{Authorization:`Bearer ${n}`}});if(e.ok){let a=await e.json();v(a.colleges||[])}}catch(e){console.error("Failed to search colleges:",e)}},300);return()=>clearTimeout(e)},[u,n]),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(r)},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"schoolName",children:"School Name *"}),(0,a.jsx)(d.Input,{id:"schoolName",value:r.name,onChange:e=>c({...r,name:e.target.value}),placeholder:"e.g., Wharton School of Business",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"collegeSearch",children:"College *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Input,{id:"collegeSearch",value:y||u,onChange:e=>{p(e.target.value),f(""),c({...r,collegeId:""}),N(!0)},onFocus:()=>N(!0),placeholder:"Search for a college...",required:!r.collegeId}),r.collegeId&&(0,a.jsxs)(m.Badge,{variant:"secondary",className:"absolute right-2 top-1/2 -translate-y-1/2 cursor-pointer",onClick:()=>{f(""),p(""),c({...r,collegeId:""})},children:["Selected ",(0,a.jsx)(ei.X,{className:"h-3 w-3 ml-1"})]}),b&&j.length>0&&!r.collegeId&&(0,a.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border rounded-md shadow-lg max-h-48 overflow-y-auto",children:j.map(e=>(0,a.jsxs)("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>{c({...r,collegeId:e.id}),f(`${e.name} (${e.city}, ${e.state})`),N(!1),v([])},children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsxs)("span",{className:"text-muted-foreground ml-2",children:[e.city,", ",e.state]})]},e.id))})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"category",children:"Category *"}),(0,a.jsxs)(g.Select,{value:r.category,onValueChange:e=>c({...r,category:e}),children:[(0,a.jsx)(g.SelectTrigger,{children:(0,a.jsx)(g.SelectValue,{placeholder:"Select category"})}),(0,a.jsx)(g.SelectContent,{children:S.map(e=>(0,a.jsx)(g.SelectItem,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"cipCode",children:"CIP Code"}),(0,a.jsx)(d.Input,{id:"cipCode",value:r.cipCode||"",onChange:e=>c({...r,cipCode:e.target.value}),placeholder:"e.g., 52.02"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"schoolWebsite",children:"Website"}),(0,a.jsx)(d.Input,{id:"schoolWebsite",type:"url",value:r.website||"",onChange:e=>c({...r,website:e.target.value}),placeholder:"https://example.edu/school"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"schoolDescription",children:"Description"}),(0,a.jsx)(d.Input,{id:"schoolDescription",value:r.description||"",onChange:e=>c({...r,description:e.target.value}),placeholder:"Brief description of the school or program..."})]}),(0,a.jsxs)(x.DialogFooter,{children:[(0,a.jsx)(o.Button,{type:"button",variant:"outline",onClick:i,disabled:l,children:"Cancel"}),(0,a.jsx)(o.Button,{type:"submit",disabled:l||!r.collegeId||!r.category,children:l?"Saving...":e?"Update School":"Create School"})]})]})}function ec({token:e}){let[n,h]=(0,s.useState)(""),[u,g]=(0,s.useState)(1),[p,S]=(0,s.useState)(null),[C,w]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!1),[k,L]=(0,s.useState)(new Set),D=(0,l.useQueryClient)(),P=(0,s.useCallback)((a,s="GET",t)=>(0,r.adminRequest)(a,e,s,t),[e]),{data:F,isLoading:R}=(0,t.useQuery)({queryKey:["/api/admin/schools",u,n],queryFn:()=>{let e=new URLSearchParams({page:u.toString(),limit:"25",sortBy:"name",sortOrder:"asc"});return n.trim()&&e.set("query",n.trim()),P(`/api/admin/schools?${e.toString()}`)}}),E=(0,i.useMutation)({mutationFn:e=>P("/api/admin/schools","POST",e),onSuccess:()=>{D.invalidateQueries({queryKey:["/api/admin/schools"]}),w(!1)},onError:e=>{console.error("Create school error:",e)}}),B=(0,i.useMutation)({mutationFn:({id:e,data:a})=>P(`/api/admin/schools/${e}`,"PUT",a),onSuccess:()=>{D.invalidateQueries({queryKey:["/api/admin/schools"]}),T(!1),S(null)},onError:e=>{console.error("Update school error:",e)}}),M=(0,i.useMutation)({mutationFn:e=>P(`/api/admin/schools/${e}`,"DELETE"),onSuccess:()=>{D.invalidateQueries({queryKey:["/api/admin/schools"]})},onError:e=>{console.error("Delete school error:",e)}}),A=(0,i.useMutation)({mutationFn:e=>P("/api/admin/schools","DELETE",{ids:e}),onSuccess:()=>{D.invalidateQueries({queryKey:["/api/admin/schools"]}),L(new Set)},onError:e=>{console.error("Bulk delete error:",e)}}),z=F?.schools||[],O=F?.total||0,q=Math.ceil(O/25);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6 gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(ee.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(d.Input,{placeholder:"Search schools by name, category...",value:n,onChange:e=>{h(e.target.value),g(1),L(new Set)},className:"pl-10"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[k.size>0&&(0,a.jsxs)(o.Button,{variant:"destructive",size:"sm",onClick:()=>{let e=k.size;0!==e&&window.confirm(`Are you sure you want to delete ${e} school${e>1?"s":""}? This cannot be undone.`)&&A.mutate(Array.from(k))},disabled:A.isPending,children:[(0,a.jsx)(_.Trash2,{className:"h-4 w-4 mr-2"}),A.isPending?"Deleting...":`Delete ${k.size} selected`]}),(0,a.jsxs)(m.Badge,{variant:"secondary",children:[O," schools"]}),n&&(0,a.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{h(""),g(1)},children:"Clear"}),(0,a.jsxs)(x.Dialog,{open:C,onOpenChange:w,children:[(0,a.jsx)(x.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(o.Button,{children:[(0,a.jsx)(Y,{className:"h-4 w-4 mr-2"}),"Add School"]})}),(0,a.jsxs)(x.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(x.DialogHeader,{children:[(0,a.jsx)(x.DialogTitle,{children:"Create New School"}),(0,a.jsx)(x.DialogDescription,{children:"Add a new school or program to a college"})]}),(0,a.jsx)(eo,{onSave:e=>E.mutate(e),onCancel:()=>w(!1),isLoading:E.isPending,token:e})]})]})]})]}),R?(0,a.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Loading schools..."}):0===z.length?(0,a.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:n?"No schools match your search.":"No schools found. Run the enrichment script or add one manually!"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsxs)(j,{children:[(0,a.jsx)(v,{children:(0,a.jsxs)(f,{children:[(0,a.jsx)(b,{className:"w-10",children:(0,a.jsx)(c.Checkbox,{checked:z.length>0&&k.size===z.length,onCheckedChange:()=>{k.size===z.length?L(new Set):L(new Set(z.map(e=>e.id)))},"aria-label":"Select all"})}),(0,a.jsx)(b,{children:"Name"}),(0,a.jsx)(b,{children:"College"}),(0,a.jsx)(b,{children:"Category"}),(0,a.jsx)(b,{children:"Source"}),(0,a.jsx)(b,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(y,{children:z.map(e=>(0,a.jsxs)(f,{className:k.has(e.id)?"bg-muted/50":"",children:[(0,a.jsx)(N,{children:(0,a.jsx)(c.Checkbox,{checked:k.has(e.id),onCheckedChange:()=>{var a;return a=e.id,void L(e=>{let s=new Set(e);return s.has(a)?s.delete(a):s.add(a),s})},"aria-label":`Select ${e.name}`})}),(0,a.jsx)(N,{className:"font-medium",children:e.name}),(0,a.jsx)(N,{children:(0,a.jsxs)("span",{className:"text-sm",children:[e.collegeName||"â€”",e.collegeCity&&(0,a.jsxs)("span",{className:"text-muted-foreground",children:[", ",e.collegeCity,", ",e.collegeState]})]})}),(0,a.jsx)(N,{children:(0,a.jsx)(m.Badge,{variant:"secondary",children:e.category})}),(0,a.jsx)(N,{children:(0,a.jsx)(m.Badge,{variant:"manual"===e.source?"default":"secondary",children:e.source})}),(0,a.jsx)(N,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{S(e),T(!0)},disabled:B.isPending||M.isPending,children:(0,a.jsx)(J.Edit,{className:"h-4 w-4"})}),(0,a.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{var a;return a=e.id,void(window.confirm("Are you sure you want to delete this school?")&&M.mutate(a))},disabled:M.isPending||B.isPending,className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(_.Trash2,{className:"h-4 w-4"})})]})})]},e.id))})]})}),q>1&&(0,a.jsxs)("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[(0,a.jsx)(o.Button,{variant:"outline",onClick:()=>{g(u-1),L(new Set)},disabled:1===u||R,children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["Page ",u," of ",q]}),(0,a.jsx)(o.Button,{variant:"outline",onClick:()=>{g(u+1),L(new Set)},disabled:u===q||R,children:"Next"})]})]}),(0,a.jsx)(x.Dialog,{open:I,onOpenChange:T,children:(0,a.jsxs)(x.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(x.DialogHeader,{children:[(0,a.jsx)(x.DialogTitle,{children:"Edit School"}),(0,a.jsx)(x.DialogDescription,{children:"Update school information"})]}),p&&(0,a.jsx)(eo,{school:p,onSave:e=>B.mutate({id:p.id,data:e}),onCancel:()=>{T(!1),S(null)},isLoading:B.isPending,token:e})]})})]})}function ed({token:e,onLogout:n}){let[c,h]=(0,s.useState)(""),[u,g]=(0,s.useState)(1),[p,S]=(0,s.useState)(null),[C,w]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!1),k=(0,l.useQueryClient)(),L=(0,s.useCallback)((a,s="GET",t)=>(0,r.adminRequest)(a,e,s,t),[e]),{data:D,isLoading:P}=(0,t.useQuery)({queryKey:["/api/admin/colleges",u,c],queryFn:()=>{let e=new URLSearchParams({page:u.toString(),limit:"25",sortBy:"name",sortOrder:"asc"});return c.trim()&&e.set("query",c.trim()),L(`/api/admin/colleges?${e.toString()}`)}}),F=(0,i.useMutation)({mutationFn:e=>L("/api/admin/colleges","POST",e),onSuccess:()=>{k.invalidateQueries({queryKey:["/api/admin/colleges"]}),w(!1)},onError:e=>{console.error("Create error:",e)}}),R=(0,i.useMutation)({mutationFn:({id:e,data:a})=>L(`/api/admin/colleges/${e}`,"PUT",a),onSuccess:()=>{k.invalidateQueries({queryKey:["/api/admin/colleges"]}),T(!1),S(null)},onError:e=>{console.error("Update error:",e)}}),E=(0,i.useMutation)({mutationFn:e=>L(`/api/admin/colleges/${e}`,"DELETE"),onSuccess:()=>{k.invalidateQueries({queryKey:["/api/admin/colleges"]})},onError:e=>{console.error("Delete error:",e)}}),B=D?.colleges||[],M=D?.total||0,z=Math.ceil(M/25);return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("div",{className:"border-b bg-white",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(ea.Settings,{className:"h-6 w-6 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage colleges & schools"})]})]}),(0,a.jsxs)(o.Button,{onClick:n,variant:"outline",children:[(0,a.jsx)(Z.LogOut,{className:"h-4 w-4 mr-2"}),"Logout"]})]})})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)(A,{defaultValue:"colleges",children:[(0,a.jsxs)(Q,{className:"mb-6",children:[(0,a.jsxs)(G,{value:"colleges",className:"gap-2",children:[(0,a.jsx)(et,{className:"h-4 w-4"}),"Colleges"]}),(0,a.jsxs)(G,{value:"schools",className:"gap-2",children:[(0,a.jsx)(es.GraduationCap,{className:"h-4 w-4"}),"Schools"]})]}),(0,a.jsxs)(W,{value:"colleges",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6 gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(ee.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(d.Input,{placeholder:"Search colleges by name, city, state...",value:c,onChange:e=>{h(e.target.value),g(1)},className:"pl-10"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m.Badge,{variant:"secondary",children:[M," colleges"]}),c&&(0,a.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{h(""),g(1)},children:"Clear"}),(0,a.jsxs)(x.Dialog,{open:C,onOpenChange:w,children:[(0,a.jsx)(x.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(o.Button,{children:[(0,a.jsx)(Y,{className:"h-4 w-4 mr-2"}),"Add College"]})}),(0,a.jsxs)(x.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(x.DialogHeader,{children:[(0,a.jsx)(x.DialogTitle,{children:"Create New College"}),(0,a.jsx)(x.DialogDescription,{children:"Add a new college to the database"})]}),(0,a.jsx)(er,{onSave:e=>F.mutate(e),onCancel:()=>w(!1),isLoading:F.isPending})]})]})]})]}),P?(0,a.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Loading colleges..."}):0===B.length?(0,a.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:c?"No colleges match your search.":"No colleges found. Start by adding one!"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsxs)(j,{children:[(0,a.jsx)(v,{children:(0,a.jsxs)(f,{children:[(0,a.jsx)(b,{children:"Name"}),(0,a.jsx)(b,{children:"Location"}),(0,a.jsx)(b,{children:"Type"}),(0,a.jsx)(b,{children:"Size"}),(0,a.jsx)(b,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(y,{children:B.map(e=>(0,a.jsxs)(f,{children:[(0,a.jsx)(N,{className:"font-medium",children:e.name}),(0,a.jsxs)(N,{children:[e.city,", ",e.state]}),(0,a.jsx)(N,{children:e.type?(0,a.jsx)(m.Badge,{variant:"secondary",children:e.type}):"-"}),(0,a.jsx)(N,{children:e.size||"-"}),(0,a.jsx)(N,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{S(e),T(!0)},disabled:R.isPending||E.isPending,children:(0,a.jsx)(J.Edit,{className:"h-4 w-4"})}),(0,a.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{var a;return a=e.id,void(window.confirm("Are you sure you want to delete this college?")&&E.mutate(a))},disabled:E.isPending||R.isPending,className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(_.Trash2,{className:"h-4 w-4"})})]})})]},e.id))})]})}),z>1&&(0,a.jsxs)("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[(0,a.jsx)(o.Button,{variant:"outline",onClick:()=>g(u-1),disabled:1===u||P,children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["Page ",u," of ",z]}),(0,a.jsx)(o.Button,{variant:"outline",onClick:()=>g(u+1),disabled:u===z||P,children:"Next"})]})]}),(0,a.jsx)(x.Dialog,{open:I,onOpenChange:T,children:(0,a.jsxs)(x.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(x.DialogHeader,{children:[(0,a.jsx)(x.DialogTitle,{children:"Edit College"}),(0,a.jsx)(x.DialogDescription,{children:"Update college information"})]}),p&&(0,a.jsx)(er,{college:p,onSave:e=>R.mutate({id:p.id,data:e}),onCancel:()=>{T(!1),S(null)},isLoading:R.isPending})]})})]}),(0,a.jsx)(W,{value:"schools",children:(0,a.jsx)(ec,{token:e})})]})})]})}function eh(){let{token:e,login:s,logout:t,isAuthenticated:i,isLoading:l}=(0,n.useAdminAuth)();return l?(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(ea.Settings,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):i?(0,a.jsx)(ed,{token:e,onLogout:t}):(0,a.jsx)(en,{onLogin:s})}e.s(["default",()=>eh],72906)}]);